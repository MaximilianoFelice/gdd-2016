SELECT * FROM BOBBY_TABLES.ACTIVE_ROLES;

SELECT * FROM BOBBY_TABLES.ACTIVE_FEATURES;

SELECT * FROM BOBBY_TABLES.FEATURES_ROLES;

SELECT * FROM BOBBY_TABLES.USER_ROLES;

SELECT r.name 'Role', feat.descr Feature
FROM BOBBY_TABLES.ACTIVE_ROLES r 
	INNER JOIN BOBBY_TABLES.FEATURES_ROLES featr ON (featr.id_role = r.id_role)
	INNER JOIN BOBBY_TABLES.ACTIVE_FEATURES feat ON (featr.id_feature = feat.id_feature);

INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Admin');
INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Other');
INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Another');
INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Then');
INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Recepcionista');
INSERT INTO BOBBY_TABLES.FEATURES(descr) VALUES ('Guest');

DELETE FROM BOBBY_TABLES.FEATURES_ROLES WHERE id_role = 1 and id_feature = 1;
INSERT INTO BOBBY_TABLES.FEATURES_ROLES (id_role, id_feature)
VALUES (1, 1);
INSERT INTO BOBBY_TABLES.FEATURES_ROLES (id_role, id_feature)
VALUES (1, 2);
INSERT INTO BOBBY_TABLES.FEATURES_ROLES (id_role, id_feature)
VALUES (3, 5);
INSERT INTO BOBBY_TABLES.FEATURES_ROLES (id_role, id_feature)
VALUES (3, 2);

EXEC BOBBY_TABLES.GetRoleFeatures 3;

DELETE FROM BOBBY_TABLES.ROLES WHERE name = 'aRole';

DELETE FROM BOBBY_TABLES.ACTIVE_FEATURES WHERE descr = 'alguito';
DELETE FROM BOBBY_TABLES.ACTIVE_ROLES WHERE name = 'asd';

SELECT * FROM [BOBBY_TABLES].FEATURES;
SELECT * FROM [BOBBY_TABLES].ROLES;
